"use strict";(self["webpackChunkweek6"]=self["webpackChunkweek6"]||[]).push([[566],{2566:function(t,a,e){e.r(a),e.d(a,{default:function(){return H}});var s=e(3396),i=e(7139);const n=(0,s._)("h2",null,"產品列表",-1),o={class:"container"},l={class:"table"},c=(0,s._)("thead",null,[(0,s._)("tr",null,[(0,s._)("th",{scope:"col"},"圖片"),(0,s._)("th",{scope:"col"},"商品名稱"),(0,s._)("th",{scope:"col"},"價格"),(0,s._)("th",{scope:"col"})])],-1),r={scope:"row"},p=["src"],d={class:"text-end"},g=["onClick"],u=(0,s.Uk)("  "),h=["onClick"];function _(t,a,e,_,m,b){const k=(0,s.up)("pagination");return(0,s.wg)(),(0,s.iD)(s.HY,null,[n,(0,s._)("div",o,[(0,s._)("table",l,[c,(0,s._)("tbody",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.products,(a=>((0,s.wg)(),(0,s.iD)("tr",{key:a.id,class:(0,i.C_)({"d-none":!a.is_enabled})},[(0,s._)("th",r,[(0,s._)("img",{src:a.imageUrl,alt:"",width:"50",class:"img-fluid"},null,8,p)]),(0,s._)("td",null,(0,i.zw)(a.title),1),(0,s._)("td",null,"$"+(0,i.zw)(a.price),1),(0,s._)("td",d,[(0,s._)("button",{type:"button",class:"btn btn-outline-secondary btn-sm",onClick:e=>t.openModal(a)},"查看更多",8,g),u,(0,s._)("button",{type:"button",class:(0,i.C_)(["btn btn-primary btn-sm",{disabled:m.isLoading}]),onClick:t=>b.addToCart(a.id,1)}," 加入購物車 ",10,h)])],2)))),128))])]),(0,s.Wm)(k,{pages:m.pagination,onEmitPages:b.getProducts},null,8,["pages","onEmitPages"])])],64)}var m=e(9242);const b={"aria-label":"Page navigation example"},k={class:"pagination"},v=(0,s._)("span",{"aria-hidden":"true"},"«",-1),C=[v],w=["onClick"],f=(0,s._)("span",{"aria-hidden":"true"},"»",-1),P=[f];function y(t,a,e,n,o,l){return(0,s.wg)(),(0,s.iD)("nav",b,[(0,s._)("ul",k,[(0,s._)("li",{class:(0,i.C_)(["page-item",{disabled:!e.pages.has_pre}])},[(0,s._)("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:a[0]||(a[0]=(0,m.iM)((t=>l.emitPages(e.pages.current_page-1)),["prevent"]))},C)],2),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.pages.total_pages,(t=>((0,s.wg)(),(0,s.iD)("li",{class:(0,i.C_)(["page-item",{active:e.pages.current_page===t}]),key:t},[(0,s._)("a",{class:"page-link",href:"#",onClick:(0,m.iM)((a=>l.emitPages(t)),["prevent"])},(0,i.zw)(t),9,w)],2)))),128)),(0,s._)("li",{class:(0,i.C_)(["page-item",{disabled:!e.pages.has_next}])},[(0,s._)("a",{class:"page-link",href:"#","aria-label":"Next",onClick:a[1]||(a[1]=(0,m.iM)((t=>l.emitPages(e.pages.current_page+1)),["prevent"]))},P)],2)])])}var x={props:["pages"],methods:{emitPages(t){this.$emit("emit-pages",t)}}},D=e(89);const $=(0,D.Z)(x,[["render",y]]);var L=$,M={data(){return{isLoading:!1,products:[],pagination:{}}},components:{pagination:L},methods:{getProducts(t=1){this.$http.get(`https://vue3-course-api.hexschool.io/v2/api/groen/products?page=${t}`).then((t=>{this.products=t.data.products,this.pagination=t.data.pagination}))},addToCart(t,a=1){const e="https://vue3-course-api.hexschool.io/v2/api/groen/cart",s={product_id:t,qty:a};this.isLoading=!0,this.$http.post(e,{data:s}).then((t=>{alert(t.data.message)})).catch((t=>{alert(t.data),this.isLoading=!1}))}},mounted(){this.getProducts()}};const z=(0,D.Z)(M,[["render",_]]);var H=z}}]);
//# sourceMappingURL=566.9bfa41c2.js.map