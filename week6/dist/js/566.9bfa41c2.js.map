{"version":3,"file":"js/566.9bfa41c2.js","mappings":"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","sources":["webpack://week6/./src/views/ProductsView.vue","webpack://week6/./src/components/PaginationTemp.vue","webpack://week6/./src/components/PaginationTemp.vue?3a32","webpack://week6/./src/views/ProductsView.vue?91db"],"sourcesContent":["<template>\n  <h2>產品列表</h2>\n  <div class=\"container\">\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <th scope=\"col\">圖片</th>\n              <th scope=\"col\">商品名稱</th>\n              <th scope=\"col\">價格</th>\n              <th scope=\"col\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in products\" :key=\"item.id\" :class=\"{ 'd-none' : !item.is_enabled}\">\n              <th scope=\"row\"><img :src=\"item.imageUrl\" alt=\"\" width=\"50\" class=\"img-fluid\"></th>\n              <td>{{ item.title }}</td>\n              <td>${{ item.price }}</td>\n              <td class=\"text-end\">\n                <button type=\"button\" class=\"btn btn-outline-secondary btn-sm\"\n                  @click=\"openModal(item)\">查看更多</button>&nbsp;\n                <button type=\"button\" class=\"btn btn-primary btn-sm\"\n                @click=\"addToCart(item.id, 1)\" :class=\"{ disabled : isLoading}\">\n                  加入購物車\n                </button>\n              </td>\n            </tr>\n          </tbody>\n        </table>\n        <pagination :pages=\"pagination\" @emit-pages=\"getProducts\"></pagination>\n      </div>\n</template>\n\n<script>\nimport pagination from '../components/PaginationTemp.vue';\n\nexport default {\n  data() {\n    return {\n      isLoading: false,\n      products: [],\n      pagination: {},\n    };\n  },\n  components: {\n    pagination,\n  },\n  methods: {\n    getProducts(page = 1) {\n      this.$http\n        .get(`${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/products?page=${page}`)\n        .then((res) => {\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n        });\n    },\n    // 加入購物車\n    addToCart(productId, qty = 1) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`;\n      const data = { product_id: productId, qty };\n      this.isLoading = true;\n      this.$http\n        .post(url, { data })\n        .then((res) => {\n          // this.getCarts();\n          // this.$emit('emit-cart');\n          alert(res.data.message);\n        }).catch((err) => {\n          alert(err.data);\n          this.isLoading = false;\n        });\n    },\n  },\n  mounted() {\n    this.getProducts();\n  },\n};\n</script>\n","<template>\n  <nav aria-label=\"Page navigation example\">\n    <ul class=\"pagination\">\n      <li class=\"page-item\" :class=\"{disabled : !pages.has_pre}\">\n          <a class=\"page-link\" href=\"#\" aria-label=\"Previous\"\n          @click.prevent=\"emitPages(pages.current_page - 1)\">\n            <span aria-hidden=\"true\">&laquo;</span>\n          </a>\n      </li>\n      <li class=\"page-item\" v-for=\"item in pages.total_pages\"\n      :key=\"item\" :class=\"{ active : pages.current_page === item }\">\n        <a class=\"page-link\"  href=\"#\" @click.prevent=\"emitPages(item)\">{{ item }}</a>\n      </li>\n      <li class=\"page-item\" :class=\"{disabled : !pages.has_next}\">\n          <a class=\"page-link\" href=\"#\" aria-label=\"Next\"\n          @click.prevent=\"emitPages(pages.current_page + 1)\">\n            <span aria-hidden=\"true\">&raquo;</span>\n          </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n\n<script>\nexport default {\n  props: ['pages'],\n  methods: {\n    emitPages(item) {\n      this.$emit('emit-pages', item);\n    },\n  },\n};\n</script>\n","import { render } from \"./PaginationTemp.vue?vue&type=template&id=6a8e3b9c\"\nimport script from \"./PaginationTemp.vue?vue&type=script&lang=js\"\nexport * from \"./PaginationTemp.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/wendy/Documents/MySelf/六角 Vue直播班/Work/hexschoolLiveVue3/week6/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./ProductsView.vue?vue&type=template&id=92693422\"\nimport script from \"./ProductsView.vue?vue&type=script&lang=js\"\nexport * from \"./ProductsView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/wendy/Documents/MySelf/六角 Vue直播班/Work/hexschoolLiveVue3/week6/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","class","scope","_hoisted_1","_hoisted_4","_createElementBlock","_Fragment","_renderList","$data","item","key","id","is_enabled","src","imageUrl","alt","width","_toDisplayString","title","price","type","onClick","_ctx","_hoisted_8","disabled","$options","_hoisted_10","_createVNode","_component_pagination","pages","onEmitPages","_hoisted_3","_hoisted_6","$props","has_pre","href","current_page","total_pages","active","_hoisted_5","has_next","props","methods","emitPages","this","$emit","__exports__","data","isLoading","products","pagination","components","getProducts","page","$http","get","then","res","addToCart","productId","qty","url","product_id","post","alert","message","catch","err","mounted","render"],"sourceRoot":""}