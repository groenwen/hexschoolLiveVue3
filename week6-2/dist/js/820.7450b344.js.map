{"version":3,"file":"js/820.7450b344.js","mappings":"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","sources":["webpack://week6-2/./src/views/CartView.vue","webpack://week6-2/./src/views/CartView.vue?73a2"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row flex-column align-items-center\">\n      <div class=\"col-8\">\n        <h2 class=\"py-5 text-center fw-bold\">Cart</h2>\n        <table class=\"table\">\n          <thead>\n            <tr>\n              <td colspan=\"2\"></td>\n              <td colspan=\"4\" class=\"text-end\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-outline-danger btn-sm\"\n                  @click=\"clearCarts\"\n                  :class=\"{ disabled: isLoading }\"\n                >\n                  清除購物車\n                </button>\n              </td>\n            </tr>\n            <tr>\n              <th scope=\"col\">刪除</th>\n              <th scope=\"col\">商品圖</th>\n              <th scope=\"col\">品名</th>\n              <th scope=\"col\">數量/單位</th>\n              <th scope=\"col\">單價</th>\n              <th scope=\"col\">小計</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr v-for=\"item in cartsList.carts\" :key=\"item\">\n              <th scope=\"row\">\n                <a href=\"#\" aria-label=\"delete\" class=\"btn btn-sm btn-outline-secondary\"\n                  @click.prevent=\"delCartItem(item.id)\"\n                  :class=\"{ disabled: isLoading }\">\n                  <i class=\"bi bi-x-lg\" style=\"line-height: 100%\"></i>\n                </a>\n              </th>\n              <td><img :src=\"item.product.imageUrl\" width=\"50\" alt=\"\" srcset=\"\" /></td>\n              <td>{{ item.product.title }}</td>\n              <td width=\"28%\">\n                <div class=\"d-flex align-items-center\">\n                  <div class=\"input-group input-group-sm\" style=\"width: auto; margin-right: 0.5rem\">\n                    <button\n                      class=\"btn btn-outline-secondary\"\n                      type=\"button\"\n                      @click=\"changeQty(item.id, item.product_id, item.qty - 1)\">\n                      <i class=\"bi bi-dash\"></i>\n                    </button>\n                    <input type=\"text\" class=\"form-control flex-grow-0 text-center\"\n                      placeholder=\"test\" :value=\"item.qty\" style=\"width: 40px\"\n                      aria-labelledby=\"bty\">\n                    <button class=\"btn btn-outline-secondary\" type=\"button\"\n                      @click=\"changeQty(item.id, item.product_id, item.qty + 1)\">\n                      <i class=\"bi bi-plus\"></i>\n                    </button>\n                  </div>\n                  {{ item.product.unit }}\n                </div>\n              </td>\n              <td>$ {{ item.product.price }}</td>\n              <td>$ {{ item.total }}</td>\n            </tr>\n            <tr>\n              <td colspan=\"6\" class=\"text-end\">總計 $ {{ cartsList.total }}</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n      <div class=\"col-6\">\n          <div class=\"border border-2 border-light p-5\">\n            <p class=\"text-center fw-bold h5 mb-3\">收件人</p>\n            <v-form v-slot=\"{errors}\" @submit=\"createOrder\" ref=\"form\">\n              <div class=\"mb-3\">\n                <label\n                  for=\"email\"\n                  class=\"form-label\">\n                  Email<span class=\"text-danger\">*</span>\n                </label>\n                <v-field\n                    type=\"email\"\n                    id=\"email1\"\n                    name=\"email\"\n                    class=\"form-control\"\n                    :class=\"{'is-invalid' : errors['email']}\"\n                    placeholder=\"請輸入 Email\"\n                    rules=\"required|email\"\n                    v-model=\"dataForm.user.email\"\n                    aria-label=\"email\">\n                </v-field>\n                <error-message name=\"email\" class=\"invalid-feedback\"></error-message>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"name\" class=\"form-label\">收件人姓名<span class=\"text-danger\">*</span></label>\n                <v-field type=\"text\" id=\"name\" name=\"姓名\" class=\"form-control\"\n                :class=\"{'is-invalid' : errors['姓名']}\"\n                  placeholder=\"請輸入 姓名\" rules=\"required\" v-model=\"dataForm.user.name\"></v-field>\n                <error-message name=\"姓名\" class=\"invalid-feedback\"></error-message>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"tel\" class=\"form-label\">收件人電話<span class=\"text-danger\">*</span></label>\n                <v-field type=\"tel\" id=\"tel\" name=\"電話\" class=\"form-control\"\n                :class=\"{'is-invalid' : errors['電話']}\" placeholder=\"請輸入 電話\"\n                rules=\"required|min:8\" v-model=\"dataForm.user.tel\"></v-field>\n                <error-message name=\"電話\" class=\"invalid-feedback\"></error-message>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"address\" class=\"form-label\">\n                  收件人地址<span class=\"text-danger\">*</span>\n                </label>\n                <v-field type=\"text\" id=\"address\" name=\"地址\" class=\"form-control\"\n                :class=\"{'is-invalid' : errors['地址']}\" placeholder=\"請輸入 地址\"\n                rules=\"required\" v-model=\"dataForm.user.address\"></v-field>\n                <error-message name=\"地址\" class=\"invalid-feedback\"></error-message>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"message\" class=\"form-label\">留言</label>\n                <v-field type=\"text\" id=\"message\" name=\"留言\" class=\"form-control\"\n                :class=\"{'is-invalid' : errors['留言']}\" placeholder=\"留言訊息\"\n                rules=\"max:10\" v-model=\"dataForm.message\" as=\"textarea\">\n                </v-field>\n                <error-message name=\"留言\" class=\"invalid-feedback\"></error-message>\n              </div>\n              <div class=\"text-end\">\n                <button type=\"submit\" class=\"btn btn-primary\" ref=\"submitBtn\">送出訂單</button>\n              </div>\n            </v-form>\n          </div>\n      </div>\n  </div>\n  <v-loading :active=\"isLoading\" :loader=\"'dots'\"></v-loading>\n  </div>\n</template>\n<script>\nexport default {\n  data () {\n    return {\n      isLoading: false,\n      // 購物車列表\n      cartsList: [],\n      // 表單資料\n      dataForm: {\n        user: {\n          name: '',\n          email: '',\n          tel: '',\n          address: ''\n        },\n        message: ''\n      }\n    }\n  },\n  methods: {\n    // 更新購物車\n    getCarts () {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart`\n      this.isLoading = true\n      this.$http.get(url).then((res) => {\n        this.cartsList = res.data.data\n        this.isLoading = false\n        console.log(this.cartsList)\n        // 購物車沒有產品時 或數量為 0 時disabled\n        if (this.cartsList.carts.length <= 0 || this.cartsList.final_total === 0) {\n          this.$refs.submitBtn.disabled = true\n        } else {\n          this.$refs.submitBtn.disabled = false\n        }\n      }).catch((err) => {\n        this.isLoading = false\n        alert(`updateCart ${url} ${err}`)\n      })\n    },\n    // 購物車-修改品項數量\n    changeQty (cartItemId, productId, qty) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${cartItemId}`\n      const data = { product_id: productId, qty }\n      this.isLoading = true\n      console.log(cartItemId, data)\n      this.$http.put(url, { data }).then((res) => {\n        this.getCarts()\n        alert(res.data.message)\n      }).catch((err) => {\n        // alert(err.data)\n        console.log(err)\n        this.isLoading = false\n      })\n    },\n    // 購物車-刪除單一品項\n    delCartItem (cartItemId) {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/cart/${cartItemId}`\n      this.isLoading = true\n      this.$http.delete(url).then((res) => {\n        this.getCarts()\n        alert(res.data.message)\n      }).catch((err) => {\n        alert(err.data.message)\n        this.isLoading = false\n      })\n    },\n    // 清空購物車\n    clearCarts () {\n      const url = `${process.env.VUE_APP_API}/api/${process.env.VUE_APP_PATH}/carts`\n      this.isLoading = true\n      this.$http.delete(url).then((res) => {\n        this.getCarts()\n        alert(res.data.message)\n      }).catch((err) => {\n        alert(err.data.message)\n        this.isLoading = false\n      })\n    }\n  },\n  mounted () {\n    this.getCarts()\n  }\n}\n</script>\n","import { render } from \"./CartView.vue?vue&type=template&id=942e2b30\"\nimport script from \"./CartView.vue?vue&type=script&lang=js\"\nexport * from \"./CartView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/wendy/Documents/MySelf/六角 Vue直播班/Work/hexschoolLiveVue3/week6-2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","colspan","scope","style","_hoisted_11","width","_hoisted_18","_hoisted_22","for","type","ref","_createElementBlock","_hoisted_4","_hoisted_6","disabled","$data","onClick","$options","_hoisted_8","_Fragment","_renderList","carts","item","key","href","id","src","product","imageUrl","alt","srcset","_toDisplayString","title","product_id","qty","placeholder","value","unit","price","total","_hoisted_27","_createVNode","_component_v_form","onSubmit","_ctx","errors","_hoisted_29","_component_v_field","name","rules","user","email","$event","_component_error_message","_hoisted_31","_hoisted_33","tel","_hoisted_35","address","_hoisted_37","message","as","_component_v_loading","active","loader","data","isLoading","cartsList","dataForm","methods","getCarts","url","this","$http","get","then","res","console","log","length","final_total","$refs","submitBtn","catch","err","alert","changeQty","cartItemId","productId","put","delCartItem","delete","clearCarts","mounted","__exports__","render"],"sourceRoot":""}