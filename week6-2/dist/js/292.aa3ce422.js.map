{"version":3,"file":"js/292.aa3ce422.js","mappings":"iLACUA,MAAM,Q,GACZC,EAAAA,EAAAA,GAAwB,MAApBD,MAAM,QAAO,MAAE,G,0CADrBE,EAAAA,EAAAA,IAGS,SAHT,EAGS,CAFPC,GACAF,EAAAA,EAAAA,GAA4E,UAApEG,KAAK,SAASJ,MAAM,kBAAmBK,QAAK,eAAEC,EAAAA,YAAW,QAKrE,OACEC,QAAS,CACPC,aAEE,MAAMC,EAAQC,SAASC,OAAOC,QAAQ,mDAAoD,MAEpFC,EAAO,yDAGbC,KAAKC,MAAMC,SAASC,QAAQC,OAAOC,cAAgBV,EAC/CA,EACFK,KAAKC,MAAMK,KAAKP,GACbQ,MAAK,KAEJC,MAAM,WAEPC,OAAOC,IAENF,MAAME,EAAIC,KAAKC,SACfZ,KAAKa,QAAQC,KAAK,cAGtBN,MAAM,QACNR,KAAKa,QAAQC,KAAK,YAItBC,UACEnB,SAASC,OAAS,wBAClBW,MAAM,OACNR,KAAKa,QAAQC,KAAK,YAGtBE,UACEhB,KAAKN,e,QCrCT,MAAMuB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://week6-2/./src/views/DashboardView.vue","webpack://week6-2/./src/views/DashboardView.vue?7280"],"sourcesContent":["<template>\r\n  <header class=\"mt-5\">\r\n    <h1 class=\"mb-5\">後台</h1>\r\n    <button type=\"button\" class=\"btn btn-primary\" @click=\"signout()\">登出</button>\r\n  </header>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  methods: {\r\n    checkAdmin () {\r\n      // 取出 token\r\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)groenToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1')\r\n      // 驗證 API\r\n      const url = `${process.env.VUE_APP_API}/api/user/check`\r\n\r\n      // 驗證使用者\r\n      this.$http.defaults.headers.common.Authorization = token\r\n      if (token) {\r\n        this.$http.post(url)\r\n          .then(() => {\r\n            // 驗證成功\r\n            alert('登入成功')\r\n          })\r\n          .catch((err) => {\r\n            // 驗證錯誤 回到登入頁面\r\n            alert(err.data.message)\r\n            this.$router.push('/login')\r\n          })\r\n      } else {\r\n        alert('尚未登入')\r\n        this.$router.push('/login')\r\n      }\r\n    },\r\n    // 將 cookie 的 token 到期時間 刪除，表示登出 並回到登入頁面\r\n    signout () {\r\n      document.cookie = 'groenToken=;expires=;'\r\n      alert('已登出')\r\n      this.$router.push('/login')\r\n    }\r\n  },\r\n  mounted () {\r\n    this.checkAdmin()\r\n  }\r\n}\r\n</script>\r\n","import { render } from \"./DashboardView.vue?vue&type=template&id=9379863e\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\S2004001\\\\Downloads\\\\Hex\\\\Vue\\\\hexschoolLiveVue3\\\\week6-2\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementVNode","_createElementBlock","_hoisted_2","type","onClick","$options","methods","checkAdmin","token","document","cookie","replace","url","this","$http","defaults","headers","common","Authorization","post","then","alert","catch","err","data","message","$router","push","signout","mounted","__exports__","render"],"sourceRoot":""}