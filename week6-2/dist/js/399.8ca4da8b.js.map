{"version":3,"file":"js/399.8ca4da8b.js","mappings":"iLACEA,EAAAA,EAAAA,GAAa,UAAT,QAAI,G,6DAARC,GACAD,EAAAA,EAAAA,GAA4E,UAApEE,KAAK,SAASC,MAAM,kBAAmBC,QAAK,eAAEC,EAAAA,YAAW,OAAjE,IAIF,OACEC,QAAS,CACPC,aAEE,MAAMC,EAAQC,SAASC,OAAOC,QAAQ,mDAAoD,MAEpFC,EAAO,yDAGbC,KAAKC,MAAMC,SAASC,QAAQC,OAAOC,cAAgBV,EACnDW,QAAQC,IAAIZ,GACRA,EACFK,KAAKC,MAAMO,KAAKT,GACbU,MAAK,KAIJH,QAAQC,IAAI,WAEbG,OAAOC,IAENC,MAAMD,EAAIE,KAAKC,SACfR,QAAQC,IAAII,GACZX,KAAKe,QAAQC,KAAK,cAGtBJ,MAAM,UACNZ,KAAKe,QAAQC,KAAK,YAGtBC,UACErB,SAASC,OAAS,wBAClBe,MAAM,SACNZ,KAAKe,QAAQC,KAAK,YAGtBE,UACElB,KAAKN,e,QCtCT,MAAMyB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE","sources":["webpack://week6-2/./src/views/DashboardView.vue","webpack://week6-2/./src/views/DashboardView.vue?7280"],"sourcesContent":["<template>\n  <h2>後台頁面</h2>\n  <button type=\"button\" class=\"btn btn-primary\" @click=\"signout()\">登出</button>\n</template>\n\n<script>\nexport default {\n  methods: {\n    checkAdmin () {\n      // 取出 token\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)groenToken\\s*=\\s*([^;]*).*$)|^.*$/, '$1')\n      // 驗證 API\n      const url = `${process.env.VUE_APP_API}/api/user/check`\n\n      // 驗證使用者\n      this.$http.defaults.headers.common.Authorization = token\n      console.log(token)\n      if (token) {\n        this.$http.post(url)\n          .then(() => {\n            // 驗證成功\n            // 取得產品資料\n            // this.updateProducts();\n            console.log('登入成功')\n          })\n          .catch((err) => {\n            // 驗證錯誤 回到登入頁面\n            alert(err.data.message)\n            console.log(err)\n            this.$router.push('/login')\n          })\n      } else {\n        alert('尚未登入後台')\n        this.$router.push('/login')\n      }\n    },\n    signout () {\n      document.cookie = 'groenToken=;expires=;'\n      alert('已登出後台')\n      this.$router.push('/login')\n    }\n  },\n  mounted () {\n    this.checkAdmin()\n  }\n}\n</script>\n","import { render } from \"./DashboardView.vue?vue&type=template&id=222c482f\"\nimport script from \"./DashboardView.vue?vue&type=script&lang=js\"\nexport * from \"./DashboardView.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/wendy/Documents/MySelf/六角 Vue直播班/Work/hexschoolLiveVue3/week6-2/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["_createElementVNode","_hoisted_1","type","class","onClick","$options","methods","checkAdmin","token","document","cookie","replace","url","this","$http","defaults","headers","common","Authorization","console","log","post","then","catch","err","alert","data","message","$router","push","signout","mounted","__exports__","render"],"sourceRoot":""}